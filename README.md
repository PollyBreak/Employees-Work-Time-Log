# üìã Attendance Service

![Java](https://img.shields.io/badge/Java-17-blue.svg)
![Spring Boot](https://img.shields.io/badge/Spring%20Boot-3.4.4-brightgreen.svg)
![Build](https://img.shields.io/badge/build-passing-brightgreen.svg)

üìå Attendance Service ‚Äî —ç—Ç–æ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å –¥–ª—è —É—á—ë—Ç–∞ —Ä–∞–±–æ—á–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –ø–æ MAC-–∞–¥—Ä–µ—Å—É, —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π:
- –æ—Ç–º–µ—Ç–∫–∏ –ø—Ä–∏—Ö–æ–¥–∞/—É—Ö–æ–¥–∞ —á–µ—Ä–µ–∑ QR-–∫–æ–¥
- —É—á—ë—Ç–∞ –∫–æ–º–∞–Ω–¥–∏—Ä–æ–≤–æ–∫
- –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ç–∞–±–µ–ª—è —É—á—ë—Ç–∞ —Ä–∞–±–æ—á–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏
- –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ç–µ–∫—É—â–µ–≥–æ —Å—Ç–∞—Ç—É—Å–∞ –≤—Å–µ—Ö —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤

---

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üè¢ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∫–æ–º–ø–∞–Ω–∏–π –∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤
- üì± –£—á—ë—Ç –ø–æ—Å–µ—â–∞–µ–º–æ—Å—Ç–∏ –ø–æ MAC-–∞–¥—Ä–µ—Å—É (—á–µ—Ä–µ–∑ QR –∏–ª–∏ —Å—Å—ã–ª–∫—É)
- üõ°Ô∏è –ü—Ä–∏–≤—è–∑–∫–∞ MAC –∫ –±—Ä–∞—É–∑–µ—Ä—É –¥–ª—è –∑–∞—â–∏—Ç—ã –æ—Ç –ø–æ–¥–º–µ–Ω—ã
- ‚úàÔ∏è –û—Ç–º–µ—Ç–∫–∞ –∫–æ–º–∞–Ω–¥–∏—Ä–æ–≤–∫–∏ —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –Ω–∞—á–∏—Å–ª–µ–Ω–∏–µ–º 8 —á–∞—Å–æ–≤
- üìÖ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–∞–±–µ–ª—è (Excel, JSON)
- üëÄ –í–∏–∑—É–∞–ª—å–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—â–∏—Ö

---

## üì¶ –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

| –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è       | –í–µ—Ä—Å–∏—è       |
|------------------|--------------|
| Java             | 17           |
| Spring Boot      | 3.4.4        |
| PostgreSQL       | 15+          |
| Spring Data JPA  | ‚úÖ           |
| Thymeleaf        | ‚úÖ           |
| Apache POI       | 5.2.3        |
| Lombok           | 1.18.36      |

---

## üöÄ –°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫

```bash
git clone https://github.com/PollyBreak/Employees-Work-Time-Log.git
cd Employees-Work-Time-Log

# –°–±–æ—Ä–∫–∞
mvn clean install

# –ó–∞–ø—É—Å–∫
mvn spring-boot:run
```

üìç –ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞: [http://localhost:8080](http://localhost:8080)

---

## üìö API –∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã

---

### üë• –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è

| –ú–µ—Ç–æ–¥ | URL             | –û–ø–∏—Å–∞–Ω–∏–µ               |
|-------|------------------|------------------------|
| POST  | `/api/company`   | –°–æ–∑–¥–∞—Ç—å –∫–æ–º–ø–∞–Ω–∏—é       |
| POST  | `/api/employee`  | –î–æ–±–∞–≤–∏—Ç—å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞    |

#### üì• –ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞ `/api/company`

```json
{
  "name": "Smart lab"
}
```

#### üì§ –ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞

```json
{
  "id": 1,
  "name": "Smart lab"
}
```

---

#### üì• –ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞ `/api/employee`

```json
{
  "name": "Alice",
  "surname": "Johnson",
  "macAddress": "AA:BB:CC:11:22:33",
  "position": "Backend Developer",
  "room": "1.1.133",
  "phone": "+77771234567",
  "companyId": 1
}
```

#### üì§ –ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞

```json
{
  "id": 2,
  "name": "Alice",
  "surname": "Johnson",
  "position": "Backend Developer",
  "room": "1.1.133",
  "phone": "+77771234567"
}
```

---

### üïò –û—Ç–º–µ—Ç–∫–∞ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤–∏—è

| –ú–µ—Ç–æ–¥ | URL                        | –û–ø–∏—Å–∞–Ω–∏–µ                            |
|-------|----------------------------|-------------------------------------|
| GET   | `/company/{id}/attendance` | HTML-—Ñ–æ—Ä–º–∞ –¥–ª—è –æ—Ç–º–µ—Ç–∫–∏ MAC          |
| POST  | `/company/scan`            | –ó–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∏—Ö–æ–¥ –∏–ª–∏ —É—Ö–æ–¥       |

#### üßç –ü—Ä–∏–º–µ—Ä HTML-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

```html
<form action="/company/scan" method="post">
  <input type="hidden" name="companyId" value="1"/>
  <input type="text" name="macAddress"/>
  <button type="submit">Submit</button>
</form>
```
![image](https://github.com/user-attachments/assets/d664a594-3a9d-4c97-819a-8694784a05b8)


#### üì• –ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞ `/company/scan`

```
companyId=1
macAddress=AA:BB:CC:11:22:33
```

#### üì§ –ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞ (HTML)

- üü¢ `–í—ã —É—Å–ø–µ—à–Ω–æ –æ—Ç–º–µ—Ç–∏–ª–∏—Å—å!`
- üî¥ `–í—ã —É—à–ª–∏ —Å —Ä–∞–±–æ—Ç—ã!`

#### üñºÔ∏è –í–Ω–µ—à–Ω–∏–π –≤–∏–¥

![image](https://github.com/user-attachments/assets/955ab8b5-c06d-43da-be4d-a251d4f4f727)


---

### ‚úàÔ∏è –ö–æ–º–∞–Ω–¥–∏—Ä–æ–≤–∫–∞

| –ú–µ—Ç–æ–¥ | URL                                | –û–ø–∏—Å–∞–Ω–∏–µ                         |
|-------|-------------------------------------|----------------------------------|
| GET   | `/company/{id}/business-trip`      | HTML-—Ñ–æ—Ä–º–∞ –¥–ª—è –∫–æ–º–∞–Ω–¥–∏—Ä–æ–≤–∫–∏      |
| POST  | `/company/{id}/business-trip`      | –û—Ç–º–µ—Ç–∫–∞ –∫–æ–º–∞–Ω–¥–∏—Ä–æ–≤–∫–∏ (—Ä–∞–∑ –≤ –¥–µ–Ω—å)|

#### üì• –ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞ `/company/{id}/business-trip`

```
macAddress=AA:BB:CC:11:22:33
```

#### üì§ –ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞ (HTML)

- üü¢ `–ö–æ–º–∞–Ω–¥–∏—Ä–æ–≤–∫–∞ —É—á—Ç–µ–Ω–∞!`
- üî¥ `–°–æ—Ç—Ä—É–¥–Ω–∏–∫ –Ω–µ –Ω–∞–π–¥–µ–Ω`

#### üñºÔ∏è –í–Ω–µ—à–Ω–∏–π –≤–∏–¥

–ü–æ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–µ, –≤–æ –≤—Ä–µ–º—è –∫–æ–º–∞–Ω–¥–∏—Ä–æ–≤–∫–∏ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –æ—Ç–º–µ—Ç–∏—Ç—å—Å—è 1 —Ä–∞–∑ –≤ –¥–µ–Ω—å, –∏ —Ç–æ–≥–¥–∞ –∑–∞ —ç—Ç–æ—Ç –¥–µ–Ω—å –∑–∞—Å—á–∏—Ç–∞–µ—Ç—Å—è 8 —Ä–∞–±–æ—á–∏—Ö —á–∞—Å–æ–≤ –∏ –≤ —Ç–∞–±–µ–ª–µ –±—É–¥–µ—Ç —É–∫–∞–∑–∞–Ω–æ "–ö".

![image](https://github.com/user-attachments/assets/72fd498f-1c49-4eb1-b2ad-f74e7a5fd036)


---

### üìÖ –¢–∞–±–µ–ª—å —É—á—ë—Ç–∞

| –ú–µ—Ç–æ–¥ | URL                                                       | –§–æ—Ä–º–∞—Ç     |
|-------|------------------------------------------------------------|------------|
| GET   | `/api/company/{id}/timesheet?year=2025&month=4`           | Excel-—Ñ–∞–π–ª |
| GET   | `/api/company/{id}/timesheet/json?year=2025&month=4`      | JSON       |

#### üì§ –ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞ (JSON)

```json
[
  {
    "employeeId": 1,
    "name": "Polina",
    "surname": "Batova",
    "position": "QA",
    "room": "1.1.105",
    "workedHoursPerDay": {
      "2025-04-17": "PT7H58M0S"
    },
    "totalWorked": "PT7H58M0S"
  }
]
```

#### üñºÔ∏è Excel-—Ç–∞–±–µ–ª—å

![image](https://github.com/user-attachments/assets/457b12db-435a-4e4d-baef-7b6376b73553)


---

### üìÜ –ò—Å—Ç–æ—Ä–∏—è –ø–æ—Å–µ—â–µ–Ω–∏–π

| –ú–µ—Ç–æ–¥ | URL                                              | –û–ø–∏—Å–∞–Ω–∏–µ                          |
|-------|--------------------------------------------------|-----------------------------------|
| GET   | `/api/employee/{id}/attendance?range=week`       | –ò—Å—Ç–æ—Ä–∏—è –æ–¥–Ω–æ–≥–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞         |
| GET   | `/api/company/{id}/attendance?range=month`       | –ò—Å—Ç–æ—Ä–∏—è –ø–æ –≤—Å–µ–º —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞–º       |

#### üì• –ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞

```
GET /api/employee/1/attendance?range=week
```

#### üì§ –ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞

```json
[
  {
    "employeeId": 1,
    "employeeName": "Polina Batova",
    "atWork": true,
    "timestamp": "2025-04-17T09:00:00"
  },
  {
    "employeeId": 1,
    "employeeName": "Polina Batova",
    "atWork": false,
    "timestamp": "2025-04-17T17:45:00"
  }
]
```

---

### üëÄ –°—Ç–∞—Ç—É—Å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤

| –ú–µ—Ç–æ–¥ | URL                                | –û–ø–∏—Å–∞–Ω–∏–µ                                 |
|-------|------------------------------------|------------------------------------------|
| GET   | `/api/company/{id}/employees/view` | HTML-—Ç–∞–±–ª–∏—Ü–∞ —Å—Ç–∞—Ç—É—Å–∞ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤         |

#### üñºÔ∏è –í–Ω–µ—à–Ω–∏–π –≤–∏–¥

![image](https://github.com/user-attachments/assets/467642cc-975a-4cc0-b77b-6d0ae28e74ef)

---


